---
title: "ERP数据预处理之批处理"
layout: post
category: EEG
tags: [matlab,ERP预处理,批处理]
excerpt: "上一篇文章主要讲的是ERP预处理的基本流程，如果按照上面步骤去操作的话，每个被试数据预处理的时间可能要在1个小时左右，这样工作效率就会非常低。在这篇文章中，主要解决的问题是如何运用代码进行批处理"
---
上一篇文章主要讲的是ERP预处理的基本流程，如果按照上面步骤去操作的话，每个被试数据预处理的时间可能要在1个小时左右，这样工作效率就会非常低。在这篇文章中，主要解决的问题是如何运用代码进行批处理。我会给大家逐行讲解代码的含义，并且告诉大家哪些参数需要自己修改，大家可以利用私有云上提供的样本数据体验一下运用代码跑数据的乐趣。以下是完整的ERP预处理matlab代码：

```matlab

%% The function of this code is to preprocess EEG data
%% Author:kangkang

clear all; close all;clc  
for sub = [1:10];

    EEG = pop_loadbv('E:\yukang\EEG数据处理\R\前测\正常\', strcat('sub',num2str(sub),'.vhdr'), [], [1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31]);
    EEG = eeg_checkset( EEG );

    EEG=pop_chanedit(EEG, 'lookup','E:\\Matlabtools\\eeglab12_0_2_0b\\plugins\\dipfit2.2\\standard_BESA\\standard-10-5-cap385.elp');
    EEG = eeg_checkset( EEG );

    EEG = pop_select( EEG,'nochannel',{'VEOG' 'HEOG'});
    EEG = eeg_checkset( EEG );

    EEG = pop_reref( EEG, 19);
    EEG = eeg_checkset( EEG );

    EEG = pop_eegfiltnew(EEG, [], 0.1, 33000, true, [], 1);
    EEG = eeg_checkset( EEG );

    EEG = pop_eegfiltnew(EEG, [], 40, 330, 0, [], 1);
    EEG = eeg_checkset( EEG );

    EEG = pop_epoch( EEG, {  'S 21'  'S 22'  }, [-1  2], 'epochinfo', 'yes');
    EEG = eeg_checkset( EEG );

    EEG = pop_rmbase( EEG, [-200    0]);
    EEG = eeg_checkset( EEG );

    EEG = pop_saveset( EEG, 'filename',strcat('sub',num2str(i),'.set'),'filepath','E:\preprocesing_1\');
    EEG = eeg_checkset( EEG );

end

```
